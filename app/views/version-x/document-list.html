{% extends "layouts/main.html" %}
{% set bodyAttributes = { id: "assess" } %}
 
{% block pageTitle %}
  GOV.UK Prototype Kit
{% endblock %}
 
{% block main %}
 
{% include currentVersionPath + "/partials/key-details.html" %}
 
<div class="govuk-width-container">
  {% if query.ncat %}
  {{ govukBackLink({ text: "Back", href: "/" + currentVersionPath + "/document-list" }) }}
{% else %}
  {{ govukBackLink({ text: "Back", href: "claimant-details.html" }) }}
{% endif %}

<!-- <a href="claimant-details.html" class="govuk-back-link">Back</a> -->
<main class="govuk-main-wrapper {{ mainClasses }}" id="main-content" role="main"{% if mainLang %} lang="{{ mainLang }}"{% endif %}>
    <div class="govuk-grid-row">

      {% if not query.ncat %}
        <div class="govuk-grid-column-one-quarter">
            <h2 class="govuk-heading-m govuk-!-Marchgin-bottom-5">Manage</h2>
            <ul class="govuk-list">
                <li>
                    <a class="govuk-link" href="/{{ currentVersionPath }}/document-list?ncat=true">Update document details</a>
                </li>
            </ul>
            {% include currentVersionPath + "/partials/filters.html" %}
        </div>
      {% endif %}
 
        <div class="govuk-grid-column-three-quarters">
        <h1 class="govuk-heading-l">Claimant documents</h2>
        <p class="govuk-body-s" id="last-updated">Last updated from DRS at {{ lastUpdatedTime }}</p>
        <hr class="govuk-section-break govuk-section-break--m govuk-section-break--visible">
        <table class="govuk-table" data-module="moj-sortable-table" aria-describedby="last-updated">
        <thead class="govuk-table__head">
          <tr class="govuk-table__row">
            <th scope="col" class="govuk-table__header column-width-20" aria-sort="none">
              <button type="button" data-index="0">Name</button>
            </th>
            {% if not query.ncat %}
              <th scope="col" class="govuk-table__header column-width-10" aria-sort="none">
                <button type="button" data-index="2">Benefit type</button>
              </th>
            {% endif %}
            <th scope="col" class="govuk-table__header column-width-15" aria-sort="none">
              <button type="button" data-index="3">Date of document</button>
            </th>
            <th scope="col" class="govuk-table__header column-width-15" aria-sort="descending">         
              <button type="button" data-index="3">Date DWP received</button>
            </th>
            <th scope="col" class="govuk-table__header column-width-20" aria-sort="none">
              <button type="button" data-index="3">Document label</button>
            </th>
          </tr>
        </thead>
        <tbody class="govuk-table__body">
            {% for doc in documents %}
                {% if doc.isActive %}
                    <tr class="govuk-table__row filter-table-row">     
                      <td class="govuk-table__cell"><a href="{% if not query.ncat %}view{% else %}update{% endif %}-document/{{ doc.id }}{% if query.ncat %}?ncat=true{% endif %}">{{ doc.name }}</a></td>
                       {% if not query.ncat %}
                          <td class="govuk-table__cell ">{{ doc.benefitType }}</td>
                        {% endif %}
                        <td class="govuk-table__cell" data-sort-value="date">{{ doc.dateOfDocument }}</td>
                        <td class="govuk-table__cell" data-sort-value="14">10 Sept 2021</td>
                        {% if doc.important %}
                        <td class="govuk-table__cell"><strong class="govuk-tag govuk-tag--yellow">Important</strong>{% if not doc.read %}<br /><strong class="govuk-tag govuk-tag--blue second-tag">Unread</strong>{% endif %}</td>
                        {% elif doc.read %}
                        <td class="govuk-table__cell"></td>
                        {% else %}
                        <td class="govuk-table__cell"><strong class="govuk-tag govuk-tag--blue">Unread</strong></td>
                        {% endif %}
                    </tr>
                {% endif %}
            {% endfor %}
        </tbody>
      </table>
    </div>
  </div>
</main>
</div>
{% endblock %}
 